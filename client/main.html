<div ng-init="init()"></div>
<span ng-if='authData'>Currently logged in as:<img height='20' width='20' src='https://twitter.com/{{authData.twitter.username}}/profile_image?size=original '/>{{authData.twitter.username}}</span>
<div ng-if='authData'><button class="btn btn-danger" ng-click="logout()">Log Out</button></div>
<div ng-if='!authData'>
     <form>
        <div class="form-group">
            <label class="control-label" for="focusedInput">Username, Prefered Twitter Username</label>
            <input type="text" ng-model="signd.username" class="form-control">
        </div>
        <div class="form-group">
            <label class="control-label" for="focusedInput">Password</label>
            <input type="password" ng-model="signd.password" class="form-control">
        </div>
        <div>
        <label>Prove you're a Human</label>
        <input ng-model="signd.human" type="text" class="form-control" placeholder="{{human()}}" id='human'>
        </div>
        <br>
        <button class="btn btn-primary btn-block" ng-click="login(signd)">Login</button>
        <br>
        <button ng-click="signup(signd)" class="btn btn-primary btn-block">Sign Up</button>
    </form>

</div>
<hr>
<div ng-init="init()" ng-if="authData">
    <form>
        <div class="form-group">
            <label class="control-label" for="focusedInput">Post Name</label>
            <input type="text" ng-model="post.name" class="form-control">
        </div>
        <div class="form-group">
            <label class="control-label" for="focusedInput">Post Description</label>
            <input type="text" ng-model="post.description" class="form-control">
        </div>
        <div class="form-group">
            <label class="control-label" for="focusedInput">Post URL</label><button ng-click='wiki(post)' class='btn btn-block'>Wikipedia ?</button>
            <input type="text" ng-model="post.url" class="form-control">
        </div>
        <br>
        <button ng-click="savePost(post)" class="btn btn-success btn-block">Save Post</button>
    </form>
</div>
<h1 class="text-center">Posts</h1>
<div class="panel panel-primary" ng-if = "post.kind==='post'" ng-repeat="post in posts">
    
    <div class="panel body">
    <h2><a ng-href="{{post.url}}" target="_blank"><img height='30' width='30' src='https://twitter.com/{{post.user}}/profile_image?size=original '/>{{post.name}}</a></h2>
    <p style="color: black;">{{post.description}}</p>
    
    <span style='color: black;font-size: 20px'>{{post.votes}} Votes</span>
    <br>
    <button ng-click="addVote(post)" class="btn btn-primary" >Vote üëç</button>
    <button class='btn btn-success' ng-click='addComment(post, "")'>Show Comments</button>

    <button ng-click="deletePost(post)" class="btn btn-danger" ng-if='ChkUsrPst(post)'>Delete Post</button>
    
    </div >
    <!-- <br> -->
    
    <div class="panel panel-default" ng-repeat="comment in comments" ng-if='comment.owner===post.$id'>
        <div class="panel-body">
            <a ng-href="https://twitter.com/{{comment.user}}" target="_blank"><img height='20' width='20' src='https://twitter.com/{{comment.user}}/profile_image?size=original '/> {{comment.user}}</a>
        </div>
        <div style='color:black;' class="panel-footer">
            {{comment.text}}
            <br>
            <button class="btn btn-danger" ng-if='ChkUsrCom(comment)' ng-click="removeComment(post, comment)">Remove Comment</button>
        </div>
    </div>
    <form>
        <div class="input-group">
            <input ng-model="comment.text" class="form-control">
            <div class="input-group-btn">
                <button ng-click="addComment(post, comment)" class="btn btn-success">Add Comment</button>
            </div>
        </div>
    </form>
</div>
<br>




